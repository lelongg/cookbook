(this.webpackJsonpcookbook=this.webpackJsonpcookbook||[]).push([[0],{126:function(e,t,n){e.exports=n.p+"static/media/hero.b7d5240d.jpg"},147:function(e,t,n){e.exports=n(291)},286:function(e,t,n){},291:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(11),o=n.n(c),i=n(16),l=n(28),u=n.n(l),s=n(50),m=n(123),p=n.n(m),d=n(32),g=n(124),f=n.n(g).a.create({baseURL:"https://api.github.com/",timeout:5e3,validateStatus:function(e){return e>=200&&e<400}});function b(e){return Number.parseInt(/https:\/\/api.github.com\/repos\/.*\/.*\/issues\/([0-9]+)/.exec(e)[1])}function h(){return v.apply(this,arguments)}function v(){return(v=Object(s.a)(u.a.mark((function e(){var t,n,a,r,c,o,i,l;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("comments"),n=void 0,t&&(n=JSON.parse(t)),e.prev=3,e.next=6,f.get("/repos/".concat("lelongg","/").concat("cookbook","/issues/comments"),{headers:{"If-None-Match":null===(a=n)||void 0===a?void 0:a.etag},params:{per_page:100}});case 6:if(r=e.sent,c=r.status,o=r.data,i=r.headers,304!==c){e.next=12;break}return e.abrupt("return",n.items);case 12:return l={etag:i.etag.substring(2),items:o.map((function(e){return Object(d.a)({},e,{issueId:b(e.issue_url)})}))},localStorage.setItem("comments",JSON.stringify(l)),e.abrupt("return",l.items);case 17:if(e.prev=17,e.t0=e.catch(3),!n){e.next=21;break}return e.abrupt("return",n.items);case 21:throw console.error(e.t0),e.t0;case 23:case"end":return e.stop()}}),e,null,[[3,17]])})))).apply(this,arguments)}function E(){return j.apply(this,arguments)}function j(){return(j=Object(s.a)(u.a.mark((function e(){var t,n,a,r,c,o,i,l;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("issues"),n=void 0,t&&(n=JSON.parse(t)),e.prev=3,e.next=6,f.get("/repos/".concat("lelongg","/").concat("cookbook","/issues"),{headers:{"If-None-Match":null===(a=n)||void 0===a?void 0:a.etag.substring(2)},params:{per_page:100,state:"open",sort:"created",direction:"desc"}});case 6:if(r=e.sent,c=r.status,o=r.data,i=r.headers,304!==c){e.next=12;break}return e.abrupt("return",n.items);case 12:return l={etag:i.etag,items:o},localStorage.setItem("issues",JSON.stringify(l)),e.abrupt("return",o);case 17:if(e.prev=17,e.t0=e.catch(3),!n){e.next=21;break}return e.abrupt("return",n.items);case 21:throw console.error(e.t0),e.t0;case 23:case"end":return e.stop()}}),e,null,[[3,17]])})))).apply(this,arguments)}var O=n(125),k=n.n(O);function y(e){var t=/^([0-9.]+)([a-zA-Z\xe8\xe0\xe9]*) (.*)$/gi;if(t.test(e)){t.lastIndex=0;var n=t.exec(e);if(!n)return;return{quantity:Number.parseFloat(n[1]),unit:n[2]||void 0,name:n[3]}}return{name:e}}function w(e){return{name:e.name,color:"#".concat(e.color)}}function x(e,t){var n=new p.a.Converter({metadata:!0}),a=n.makeHtml(e.body),r=n.getMetadata(!0),c=k.a.safeLoad(r);return{id:e.id,name:e.title,image:c.image,tags:e.labels.map(w),duration:c.dur\u00e9e,servings:c.personnes||1,ingredients:(c.ingr\u00e9dients||[]).map(y).filter((function(e){return e})),detailsHtml:a,detailsMarkdown:e.body,issueLink:e.html_url,comments:t.filter((function(t){return t.issueId===e.number})).map((function(e){return{user:e.user.login,body:e.body}}))}}var S=n(295),C=n(31),I=n(27),M=n(10),R=n(139),T=n(294),W=n(321),D=n(322),F=n(323),L=n(331),N=n(324),A=n(70),J=n.n(A),_=n(126),B=n.n(_),H=n(71),q=n(136),z=n(319),P=n(332);function U(e){var t=e.name,n=e.color,a=e.selected,c=Object(H.a)(e,["name","color","selected"]),o=Object(q.a)({palette:{primary:{main:n||"#fff"}}});return r.a.createElement(z.a,{theme:o},r.a.createElement(P.a,Object.assign({variant:a?"default":"outlined",color:"primary",label:t},c)))}var G=n(137),Y=n(329),$=Object(R.a)("div")((function(e){return{display:"flex",flexDirection:"row",flexWrap:"wrap",margin:e.theme.spacing(2,0),"& > *":{margin:4}}}));function Z(e){var t=e.tags,n=e.onTagsChange,c=e.onSearchChange,o=Object(a.useState)([]),l=Object(i.a)(o,2),u=l[0],s=l[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(Y.a,{label:"Rechercher une recette",variant:"outlined",onChange:function(e){return null===c||void 0===c?void 0:c(e.target.value)}}),r.a.createElement($,null,t.map((function(e){var t=u.includes(e);return r.a.createElement(U,{key:e.name,name:e.name,color:t?e.color:void 0,selected:t,onClick:function(){return function(e){var t;t=u.includes(e)?u.filter((function(t){return t.name!==e.name})):[].concat(Object(G.a)(u),[e]),s(t),null===n||void 0===n||n(t)}(e)}})}))))}var K=n(138),Q=Object(R.a)("div")({minHeight:"100vh",display:"flex",flexDirection:"column"}),V=Object(R.a)("div")({backgroundImage:"url(".concat(B.a,")"),backgroundSize:"cover",backgroundPosition:"center",height:"50vh",display:"flex",alignItems:"center",justifyContent:"center",paddingBottom:"10vh",flexDirection:"column"}),X=Object(R.a)((function(e){return r.a.createElement(S.a,Object.assign({align:"center",variant:"h2"},e))}))((function(e){var t=e.theme;return Object(M.a)({color:t.palette.common.white,textShadow:"1px 1px #000",marginBottom:t.spacing(2)},t.breakpoints.only("xs"),{fontSize:"2rem"})})),ee=Object(R.a)(T.a)((function(e){var t,n=e.theme;return t={margin:n.spacing(0,4),transform:"translateY(-10vh)",display:"grid",padding:n.spacing(2),gridColumnGap:n.spacing(2),gridRowGap:n.spacing(2),gridAutoRows:"max-content"},Object(M.a)(t,n.breakpoints.only("xs"),{gridTemplateColumns:"repeat(1, 1fr)",margin:n.spacing(0),padding:n.spacing(1),boxShadow:"none"}),Object(M.a)(t,n.breakpoints.only("sm"),{gridTemplateColumns:"repeat(2, 1fr)"}),Object(M.a)(t,n.breakpoints.only("md"),{gridTemplateColumns:"repeat(3, 1fr)"}),Object(M.a)(t,n.breakpoints.only("lg"),{gridTemplateColumns:"repeat(4, 1fr)"}),Object(M.a)(t,n.breakpoints.only("xl"),{gridTemplateColumns:"repeat(5, 1fr)"}),t})),te=Object(R.a)(T.a)((function(e){var t=e.theme;return{minHeight:"20vh",margin:t.spacing(0,4),transform:"translateY(-10vh)",padding:t.spacing(2),display:"flex",justifyContent:"center",alignItems:"center"}})),ne=Object(R.a)(W.a)((function(e){var t,n=e.theme;return t={backgroundColor:n.palette.grey[300]},Object(M.a)(t,n.breakpoints.only("xs"),{height:200}),Object(M.a)(t,n.breakpoints.only("sm"),{height:200}),Object(M.a)(t,n.breakpoints.only("md"),{height:200}),Object(M.a)(t,n.breakpoints.up("lg"),{height:300}),t})),ae=Object(R.a)("div")((function(e){var t=e.theme;return{margin:t.spacing(1,0),"& > *":{margin:t.spacing(0,1)}}})),re=Object(R.a)((function(e){return r.a.createElement(D.a,Object.assign({component:"a",color:"primary"},e))}))((function(e){var t=e.theme;return{position:"fixed",bottom:t.spacing(2),right:t.spacing(2)}})),ce={limit:10,keys:["name","detailsMarkdown"],isCaseSensitive:!1,includeMatches:!0};function oe(e){var t=e.recipes,n=e.tags,c=Object(a.useState)(""),o=Object(i.a)(c,2),l=o[0],u=o[1],s=Object(a.useState)([]),m=Object(i.a)(s,2),p=m[0],d=m[1],g=Object(a.useMemo)((function(){if(!l&&0===p.length)return t;var e=t;l&&(e=new K.a(t,ce).search(l).map((function(e){return e.item})));return p.length>0?e.filter((function(e){return e.tags.filter((function(e){return p.some((function(t){return t.name===e.name}))})).length===p.length})):e}),[t,l,p]);return r.a.createElement(Q,null,r.a.createElement(V,null,r.a.createElement(X,null,"Les recettes de Chlo\xe9"),r.a.createElement(Z,{tags:n,onSearchChange:u,onTagsChange:d})),g.length>0?r.a.createElement(ee,null,g.map((function(e){return r.a.createElement(C.b,{key:e.id,to:"/recettes/".concat(e.id)},r.a.createElement(F.a,{variant:"outlined"},r.a.createElement(ne,{image:e.image}),r.a.createElement(L.a,{m:1},r.a.createElement(S.a,{variant:"subtitle2"},e.name)),r.a.createElement(ae,null,e.tags.map((function(e){return r.a.createElement(U,Object.assign({key:e.name},e,{selected:p.some((function(t){return t.name===e.name})),size:"small"}))})))))}))):r.a.createElement(te,null,r.a.createElement(S.a,null,"Aucune recette trouv\xe9e.")),r.a.createElement(L.a,{flexGrow:1}),r.a.createElement(L.a,{mb:4},r.a.createElement(S.a,{variant:"h6",align:"center"},"Fait avec amour par"," ",r.a.createElement(N.a,{href:"https://github.com/JulienUsson/"},"Julien Usson"))),r.a.createElement(re,{"aria-label":"add",href:"https://github.com/".concat("lelongg","/").concat("cookbook","/issues"),target:"_blank"},r.a.createElement(J.a,null)))}var ie=n(39),le=n(326),ue=n(325),se=n(327),me=n(131),pe=n.n(me),de=Object(R.a)("div")((function(e){e.theme;return{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",width:150}})),ge=Object(R.a)("span")({fontWeight:500});function fe(e){var t=e.ingredients,n=e.servings,c=Object(a.useState)(n),o=Object(i.a)(c,2),l=o[0],u=o[1],s=Object(a.useMemo)((function(){return t.map((function(e){return Object(d.a)({},e,{quantity:e.quantity&&e.quantity*l/n})}))}),[t,l,n]);return r.a.createElement("div",null,r.a.createElement(S.a,{variant:"h6"},"Personnes :"),r.a.createElement(de,null,r.a.createElement(ue.a,{"aria-label":"minus",onClick:function(){l>1&&u(l-1)}},r.a.createElement(pe.a,null)),r.a.createElement(S.a,null,l),r.a.createElement(ue.a,{"aria-label":"plus",onClick:function(){return u(l+1)}},r.a.createElement(J.a,null))),r.a.createElement(S.a,{variant:"h6"},"Ingr\xe9dients :"),s.map((function(e,t){return r.a.createElement(S.a,{key:t},"-"," ",e.quantity&&r.a.createElement(ge,null,function(e){var t=e.toString();return-1!==t.indexOf(".")?e.toFixed(2):t}(e.quantity),e.unit," "),e.name)})))}var be=n(132),he=n.n(be),ve=n(133),Ee=n.n(ve),je=Object(R.a)("div")((function(e){var t=e.theme;return Object(M.a)({display:"flex",flexDirection:"column",backgroundColor:"#FFFBFB"},t.breakpoints.up("md"),{height:"100vh",flexDirection:"row"})})),Oe=Object(R.a)("div")((function(e){var t=e.theme;return Object(M.a)({display:"flex",flexDirection:"column"},t.breakpoints.up("md"),{padding:t.spacing(1),overflowY:"auto",backgroundColor:"#5D3352 ",color:t.palette.common.white,"& *":{color:t.palette.common.white},boxShadow:t.shadows[4],minWidth:300,maxWidth:300,marginRight:t.spacing(2)})})),ke=Object(R.a)("div")((function(e){var t,n=e.theme;return t={},Object(M.a)(t,n.breakpoints.down("sm"),{backgroundColor:"#5D3352",color:n.palette.common.white,"& *":{color:n.palette.common.white},boxShadow:n.shadows[4],padding:n.spacing(2)}),Object(M.a)(t,n.breakpoints.up("md"),{marginTop:n.spacing(4),padding:n.spacing(0,4,0,2)}),t})),ye=Object(R.a)("div")((function(e){return{flexGrow:1,overflowY:"auto",textAlign:"justify",padding:e.theme.spacing(2)}})),we=Object(R.a)("div")((function(e){e.theme;return{display:"flex",flexDirection:"row"}})),xe=Object(R.a)((function(e){e.src;var t=Object(H.a)(e,["src"]);return r.a.createElement("div",t)}))((function(e){var t,n=e.theme,a=e.src;return t={},Object(M.a)(t,n.breakpoints.up("md"),{height:150}),Object(M.a)(t,"height",300),Object(M.a)(t,"width","100%"),Object(M.a)(t,"backgroundImage","url(".concat(a,")")),Object(M.a)(t,"backgroundPosition","center"),Object(M.a)(t,"backgroundSize","contain"),Object(M.a)(t,"backgroundRepeat","no-repeat"),t})),Se=Object(R.a)("div")((function(e){return{"& > *":{marginRight:e.theme.spacing(1)}}}));function Ce(e){var t=e.recipes,n=Object(I.g)().id,c=Object(ie.a)(),o=Object(le.a)(c.breakpoints.down("sm")),i=Object(a.useMemo)((function(){return t.find((function(e){return e.id.toString()===n}))}),[n,t]);return i?r.a.createElement(je,null,o&&r.a.createElement(L.a,{p:2},r.a.createElement(Me,null),r.a.createElement(Ie,{recipe:i})),r.a.createElement(Oe,null,!o&&r.a.createElement(Me,null),r.a.createElement(ke,null,!o&&r.a.createElement(L.a,{display:"flex",justifyContent:"center",py:1},i.image&&r.a.createElement(xe,{src:i.image})),i.duration&&r.a.createElement(S.a,{variant:"subtitle1"},r.a.createElement(S.a,{variant:"h6",component:"span"},"Dur\xe9e :"," "),i.duration),r.a.createElement(fe,{ingredients:i.ingredients,servings:i.servings}))),r.a.createElement(ye,null,!o&&r.a.createElement(Ie,{recipe:i}),o?r.a.createElement(L.a,{display:"flex",justifyContent:"center",py:1},i.image&&r.a.createElement(xe,{src:i.image})):r.a.createElement(L.a,{pt:4}),r.a.createElement(S.a,{dangerouslySetInnerHTML:{__html:i.detailsHtml}}),i.comments.length>0&&r.a.createElement(L.a,{pt:4},i.comments.map((function(e){return r.a.createElement(L.a,{pt:2,key:e.body},r.a.createElement(S.a,null,r.a.createElement(S.a,{component:"span",variant:"h6"},e.user," :")," ",e.body))}))))):r.a.createElement(I.a,{to:"/"})}function Ie(e){var t=e.recipe;return r.a.createElement(r.a.Fragment,null,r.a.createElement(we,null,r.a.createElement(S.a,{variant:"h2",align:"left"},t.name),r.a.createElement(L.a,{flexGrow:1}),r.a.createElement("div",null,r.a.createElement(ue.a,{component:"a","aria-label":"edit",href:t.issueLink,target:"_blank"},r.a.createElement(he.a,null)))),r.a.createElement(Se,null,t.tags.map((function(e){return r.a.createElement(U,Object.assign({key:e.name},e,{selected:!0}))}))))}function Me(){return r.a.createElement(C.b,{to:"/"},r.a.createElement(se.a,{startIcon:r.a.createElement(Ee.a,null)},"Retour"))}var Re=n(134),Te=n.n(Re);function We(){var e=function(){var e=Object(a.useState)(),t=Object(i.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(),o=Object(i.a)(c,2),l=o[0],m=o[1];return Object(a.useEffect)((function(){function e(){return(e=Object(s.a)(u.a.mark((function e(){var t,n,a,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Promise.all([E(),h()]);case 3:t=e.sent,n=Object(i.a)(t,2),a=n[0],c=n[1],r(a.map((function(e){try{return x(e,c)}catch(t){return void console.error(t)}})).filter((function(e){return e}))),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),m(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),[n,l]}(),t=Object(i.a)(e,2),n=t[0],c=t[1],o=Object(a.useMemo)((function(){if(n){var e=n.reduce((function(e,t){return t.tags.forEach((function(t){return e.push(t)})),e}),[]);return Te()(e,"name")}}),[n]);return c?r.a.createElement(S.a,{color:"error"},"Erreur: R\xe9essayer plus tard."):n&&o?r.a.createElement(C.a,{basename:"/cookbook"},r.a.createElement(I.d,null,r.a.createElement(I.b,{exact:!0,path:"/"},r.a.createElement(oe,{recipes:n,tags:o})),r.a.createElement(I.b,{exact:!0,path:"/recettes/:id"},r.a.createElement(Ce,{recipes:n,tags:o})),r.a.createElement(I.a,{to:"/"}))):r.a.createElement(S.a,null,"Chargement...")}var De=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Fe(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var Le=n(73),Ne=Object(q.a)({typography:{fontFamily:"'Baloo Thambi 2', cursive",fontSize:18},palette:{primary:Le.a},overrides:{MuiOutlinedInput:{notchedOutline:{borderColor:"white !important"},input:{color:"white !important"}},MuiFormLabel:{root:{color:"white !important"}}}}),Ae=n(328),Je=(n(286),n(135));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Je.Helmet,null,r.a.createElement("title",null,"Les recettes de Chlo\xe9")),r.a.createElement(z.a,{theme:Ne},r.a.createElement(Ae.a,null),r.a.createElement(We,null))),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/cookbook",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/cookbook","/service-worker.js");De?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):Fe(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):Fe(t,e)}))}}()}},[[147,1,2]]]);
//# sourceMappingURL=main.f87b3aa8.chunk.js.map